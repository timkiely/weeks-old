"0",""
"0","lifespan_plot <- function(BIRTHDAY = NULL, lifespan = 88, extra_motivation = FALSE){"
"0","  "
"0","  suppressPackageStartupMessages({"
"0","    require(waffle)"
"0","    require(ggplot2)"
"0","    require(lubridate)"
"0","  })"
"0","  "
"0","  if(!is.Date(BIRTHDAY)) stop(""Must supply a valid date"")"
"0","  if(BIRTHDAY>Sys.Date()) stop(""Birthdate supplied is after today"")"
"0","  "
"0","  "
"0","  "
"0","  # What date will you reach your lifespan?"
"0","  LIFESPAN_DATE <- BIRTHDAY+years(lifespan)"
"0","  "
"0","  # How many weeks old are you?"
"0","  WEEKS_SINCE_BORN <- floor(as.numeric(difftime(Sys.Date(), BIRTHDAY, units = ""weeks"")))"
"0","  "
"0","  # How many weeks does an 88 year old live?"
"0","  TOTAL_WEEKS_LIFESPAN <- 52*lifespan"
"0","  "
"0","  # How many weeks do I have left?"
"0","  WEEKS_LEFT <- TOTAL_WEEKS_LIFESPAN-WEEKS_SINCE_BORN"
"0","  "
"0","  "
"0","  parts <- c(""Weeks Left"" = WEEKS_LEFT, ""Weeks Lived"" = WEEKS_SINCE_BORN)"
"0","  lifespan_plot <- waffle(parts, rows = 52, flip = T, colors = c(""darkgrey"",""black""))+theme(legend.position = ""none"")"
"0","  "
"0","  if(extra_motivation) {"
"0","    "
"0","    if(lifespan%/%10==8){"
"0","      motivation_text <- "
"0","        paste0(""You are """
"0","               , scales::percent(WEEKS_SINCE_BORN/TOTAL_WEEKS_LIFESPAN)"
"0","               ,"" through an "",lifespan"
"0","               , "" year life"")"
"0","    } else {"
"0","      "
"0","      motivation_text <- "
"0","        paste0(""You are """
"0","               , scales::percent(WEEKS_SINCE_BORN/TOTAL_WEEKS_LIFESPAN)"
"0","               ,"" through a "",lifespan"
"0","               , "" year life"")"
"0","    }"
"0","    "
"0","    lifespan_plot <- lifespan_plot+labs(title = motivation_text)"
"0","  }"
"0","  lifespan_plot"
"0","}"
"0",""
